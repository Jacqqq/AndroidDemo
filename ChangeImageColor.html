<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Abhan</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Abhan">
    <link href="stylesheets/bootstrap-combined.min.css" rel="stylesheet">
    <link href="stylesheets/app.css" rel="stylesheet">
    <link href="stylesheets/app-theme-changeimagecolor.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Roboto:400,300italic,100,100italic,300" rel="stylesheet" type="text/css">
  </head>
  <body data-target=".content-nav">
    <header>
      <div class="container">
        <div class="row">
          <div class="span5">
            <h1>Change Image Color</h1>
          </div>
          <div class="span7">
            <menu>
              <ul>
                <li><a href="https://github.com/Abhan" data-title="GitHub Project" class="menu github"><img src="images/icon-github.png" alt="GitHub"/></a></li>
              </ul>
            </menu>
          </div>
      </div>
    </header>
    <section id="body">
      <div class="container">
        <div class="row">
          <div class="span9">
            <h3 id="introduction">Introduction</h3>
            <p>This project shows how to change <code>Image</code> color programmatically. This technique is based on change <code>HSV</code> value pixel by pixel.</p>

            <h3 id="features">Features</h3>
			<p><code>Color.colorToHSV</code> method is used to get current <code>HSV</code> from passing value or by dividing with certain number to get appropriate value. Basically, <code>Color.colorToHSV</code> contains <code>HSV</code> value array which we use to change current pixel's value.</p>
			
			<p><code>HSV</code> array has 
			<pre>HSV[0] - Hue (Range From 0 to 360) 
HSV[1] - Saturation (Range From 0.0 to 1.0) 
HSV[2] - Lightness (Range From 0.0 to 1.0)</pre></p>

			<h4 id="snippet">Snippet</h4>
			<p>First of all create a <code>Activity</code> like as below.</p>
			<pre> public class ColorChangeActivity extends Activity {
	private Bitmap mSourceBitmap; 
	private ImageView mImageView;
	...
				
	@Override
	public void onCreate() {
		super.onCreate();
		mImageView = (ImageView) findViewById(R.id.myimage);
		mSourceBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.yourimage);
		...
	}
} </pre>
			<p>Create one more <code>Bitmap</code> using <code>mSourceBitmap</code> having <code>Config</code> value <code>Bitmap.Config.ARGB_8888</code>.</p>
			<pre>Bitmap nNewBitmap = nSourceBitmap.copy(Bitmap.Config.ARGB_8888, true);</pre>
			<p>Now get each pixel from newly created <code>Bitmap</code> and change its value using <code>Color.colorToHSV</code> function.</p>
			<pre>Bitmap nSourceBitmap = nSource;
Bitmap nNewBitmap = nSourceBitmap.copy(Bitmap.Config.ARGB_8888, true);
for (int x = 0; x < nNewBitmap.getWidth(); x++) {
	for (int y = 0; y < nNewBitmap.getHeight(); y++) {
		int nNewPixel = hueChange(nNewBitmap.getPixel(x, y), nHue, nSaturation, nLightness);
		nNewBitmap.setPixel(x, y, nNewPixel);
	}
}
return nNewBitmap;</pre>
			
			<pre>private int hueChange(int nStartPixel, int nHue, float nSaturation, float nLightness) {
	float[] hsv = new float[3];
	Color.colorToHSV(nStartPixel, hsv);
	hsv[0] = nHue;
	// hsv[0] = hsv[0] % 360;
	hsv[1] = nSaturation;
	// hsv[1] = hsv[1] % 360;
	hsv[2] = nLightness;
	// hsv[2] = hsv[2] % 360;
	return Color.HSVToColor(Color.alpha(nStartPixel), hsv);
}</pre>
			<p>Set returned <code>Bitmap</code> into your <code>ImageView</code>.</p>
			
			<h3 id="screenshots">Screen Shots</h3>
			<p> Coming Soon.</p>
			
			<h3 id="download">Download</h3>
			<p> Full Source is available from <a href="https://github.com/Abhan/AndroidDemo/tree/master/ColorChangeProgram">Here</a>.</p> 
			
			<h3 id="license">License</h3>
            <pre>Copyright 2013.
			
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0
   
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</pre>
          </div>
          <div class="span3">
            <div class="content-nav" data-spy="affix" data-offset-top="80">
              <ul class="nav nav-tabs nav-stacked primary">
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#features">Features</a></li>
				<li><a href="#snippet">Snippet</a></li>
				<li><a href="#screenshots">Screen Shots</a></li>
				<li><a href="#download">Download</a></li>
                <li><a href="#license">License</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="javascripts/bootstrap.min.js"></script>
    <script src="javascripts/jquery.smooth-scroll.min.js"></script>
    <script src="javascripts/jquery-maven-artifact.min.js"></script>
    <script src="javascripts/prettify.js"></script>
    <script type="text/javascript">
      $(function() {
        prettyPrint();

        $('body').scrollspy();
        
        $('a').smoothScroll();

        $('.menu').tooltip({
          placement: 'bottom',
          trigger: 'hover',
          container: 'body',
          delay: {
            show: 500,
            hide: 0
          }
        });
      });
    </script>
  </body>
</html>
